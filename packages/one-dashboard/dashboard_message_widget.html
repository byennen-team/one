<template name="messageWidget">
  
  <div class="message-widget {{channelType}}">
    
    <div class="header">
      <p class='channel-type'>{{channelTypeLong}}</p>
      <p class='channel-name'>{{channelName}} <span class="notice">{{unread}}</span></p>
      <div class="view-chat">view chat</div>
    </div>

    <div class="messageWidgetSleeve">
<!-- TODO: All of the conversation history (old messages too) should be rendered in .conversation -->
      <div class="conversation">
      
        <div class="message">
          <div class="avatar">
            <div class="status {{status}}"></div>
            <img src="{{avatarURL}}" alt="{{authorName}}" />
          </div>

          <div class="message-body">
            <p class="name">
              {{authorName}}
              <span class="time">{{messageTime}}</span>
            </p>  
            <p class="text">{{messageText}}</p>      
            {{#if hasAttachment}}
            <div class="doc">
              <div class="thumbnail">
                <img src="{{attachmentURL}}" alt="{{attachmentName}}" class="doc-thumb">
              </div>
              <p class="title">
                <span class="fa fa-file"></span>
                {{attachmentName}}
                <span class="size">{{attachmentSize}}</span>
              </p>
              <div class="action-bar">
<!-- TODO: download file -->
                <a href="#" class="download">
                  <i class="fa fa-arrow-circle-down"></i>
                  download
                </a>
<!-- TODO: call print controls, with doc loaded      -->
                <a href="#" class="print">
                  <i class="fa fa-print"></i>
                  print
                </a>
<!-- TODO: this should call modal with document viewer -->
                <a href="#" class="view">
                  <i class="fa fa-view"></i>
                  view
                </a>
              </div>
            </div>
            {{/if}}
          </div>
        </div>
        <div class="clearfix"></div>

<!-- TODO: Remove. Repeated for style -->
        <div class="message user">
          <div class="avatar">
            <div class="status active"></div>
            <img src="/images/com-hub-main/jon.jpg" alt="Agent's name here" />
          </div>
          <div class="message-body">
            <p class="name">
              Jon Evans
              <span class="time">8:48am</span>
            </p>  
            <p class="text">Thanks <a href='#'>@JoyAvery</a>!</p>   
          </div>  
        </div>
        <div class="clearfix"></div>
<!-- /style repeat -->

<!-- TODO: New message bar should be inserted before any new messages -->
        <div class="new-message-bar">
          <p>New message</p>
          <hr/>
        </div>
        <div class="clearfix"></div>

<!-- TODO: Remove. Repeated for style -->
        <div class="message">
          <div class="avatar">
            <div class="status inactive"></div>
            <img src="/images/com-hub-main/dottie.jpg" alt="Agent's name here" />
          </div>
          <div class="message-body">
            <p class="subject">News Update</p>
            <p class="name">
              Dottie Herman
              <span class="time">8:52am</span>
            </p>  
            <p class="text">Zombie ipsum reversus ab viral inferno, nam rick grimes malum cerebro. De carne lumbering animata corpora quaeritis. Summus brains sit​​, morbo vel maleficia? De apocalypsi gorger omero undead survivor dictum mauris. </p>     
          </div>
        </div>
        <div class="clearfix"></div>

      </div>

    </div>
  </div>

</template>